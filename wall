args = { ... }


currentSlot = 1
if #args ~= 2 then
   print("Usage: wall length hight")
   return
end	
width = tonumber(args[1])
height = tonumber(args[2])
function findMaterial()
   for i=1, 16 do
      if turtle.getItemCount(i) > 0 then
	 turtle.select(i)
	 if turtle.compareTo(16) then
	    currentSlot = i
	    return(true)
	 end
      end
   end
   return(false)
end

move.up(1)
findMaterial()
for y = 1, height do
   for x = 1, width do
      if not turtle.placeDown() then
	 if turtle.getItemCount(currentSlot) == 0 then
	    if not findMaterial() then
	       print("Ran out of material")
	       return
	    end
	 end
	 if turtle.detectDown() then
	    if not turtle.digDown() then
	       print("Cant dig down...")
	       return
	    end
	 end
	 if not turtle.placeDown() then
	    print("Cant seem to place down...")
	    return
	 end
      end
      if x ~= width  then
	 while not move.forward(1) do
	    print("Cant seem to move...")
	    turtle.attack()
	    os.sleep(5)
	 end
	    
	 
      end
   end
   move.turnAround()
   move.up(1)
end
